---
layout: Post
title: Promoes
subtitle: Recreating my personal website in order to learn about Vue.
date: 2022-05-01
author: Hein Thu
useHeaderImage: true
headerImage: /img/posts/default.jpg
headerMask: rgba(0, 0, 0, .5)
tags:
 - Project
 - Vue
 - VuePress
 - Gungnir
 - TypeScript
permalinkPattern: /post/:year/:month/:day/:slug/
---

Promoes is a project to recreate my personal website with blogging features and it is currently live on [https://promoes.com/](https://promoes.com/).

## Summary
### Technology Stack
- [Cloudflare](https://www.cloudflare.com/en-gb/plans/#overview) (DNS, SSL/TLS Edge Certificate, CDN)
- [Firebase](https://firebase.google.com/pricing) (Web Hosting)
- [GitHub](https://github.com/thu105/promoes) (Code Repository)
- [Vue](https://vuejs.org/) (JavaScript Framework)
- [VuePress](https://v2.vuepress.vuejs.org/) (Static Site Generator)
- [Gungnir](https://v2-vuepress-theme-gungnir.vercel.app/) (Vuepress Theme)

### Languages
Vue, TypeScript, SCSS

## Detailed
### Website Hosting
Both the production and preview channels are hosted on Firebase. The app is deployed to these channels using GitHub Action workflows.

#### GitHub Workflows
Build and deploy to preview channel on pull request.
**firebase-hosting-pull-request.yml**
```yaml
name: Deploy to Firebase Hosting on PR
'on': pull_request
jobs:
  build_and_preview:
    if: '${{ github.event.pull_request.head.repo.full_name == github.repository }}'
    runs-on: ubuntu-latest
    env:
      NODE_VERSION: '16'
    steps:
      - uses: actions/checkout@v2

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: yarn

      - name: Install dependencies
        run: yarn --frozen-lockfile

      - name: Build site
        run: yarn docs:build

      - uses: FirebaseExtended/action-hosting-deploy@v0
        with:
          repoToken: '${{ secrets.GITHUB_TOKEN }}'
          firebaseServiceAccount: '${{ secrets.FIREBASE_SERVICE_ACCOUNT_PROMOES_32392 }}'
          projectId: promoes-32392
```
Build and deploy to production channel on merge to the master branch.
**firebase-hosting-pull-request.yml**
```yaml
name: Deploy to Firebase Hosting on merge
'on':
  push:
    branches:
      - master
jobs:
  build_and_deploy:
    runs-on: ubuntu-latest
    env:
      NODE_VERSION: '16'
    steps:
      - uses: actions/checkout@v2

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: yarn

      - name: Install dependencies
        run: yarn --frozen-lockfile

      - name: Build site
        run: yarn docs:build

      - uses: FirebaseExtended/action-hosting-deploy@v0
        with:
          repoToken: '${{ secrets.GITHUB_TOKEN }}'
          firebaseServiceAccount: '${{ secrets.FIREBASE_SERVICE_ACCOUNT_PROMOES_32392 }}'
          channelId: live
          projectId: promoes-32392
```
### Website Routing
Cloudflare handles both the DNS resolution and content delivery, so the SSL certificate is generated by Cloudflare. While Firebase has its own CDN, using Cloudflare brings additional DDOS protection and reduces the load on Firebase.

### Coding Frameworks
The website is powered by the Vue 3 framework. VuePress V2 is used to generate static sites from posts in markdown format and Gungnir theme is applied to provide additional features for blogging like tags and catalogs.

## Related Posts
- [About Promoes](/about/promoes/)
- [Learning VueJS](/post/2022/04/25/learning-vuejs/)